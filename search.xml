<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[should.js å†™æ³•å®žçŽ°]]></title>
    <url>%2F2018%2F04%2F01%2Fdefind20180401%2F</url>
    <content type="text"><![CDATA[å…³äºŽ should.jså…ˆä¸Šä»£ç 12345678var should = require('should');var user = &#123; name: 'tj' , pets: ['tobi', 'loki', 'jane', 'bandit']&#125;;user.should.have.property('name', 'tj'); // true çœ‹åˆ°è¿™æ ·çš„å†™æ³•æ˜¯ä¸æ˜¯å¾ˆé…·ç‚«ï¼Œåæ­£æˆ‘å½“æ—¶å°±æ˜¯ï¼Œæˆ‘ä»¬æ¥ä¸€æ­¥ä¸€æ­¥å®žçŽ°å®ƒã€‚ åŽŸåž‹é“¾é¦–å…ˆuserè¿™ä¸ªå¯¹è±¡æœ¬èº«æ˜¯æ²¡æœ‰shouldè¿™ä¸ªå±žæ€§çš„ï¼Œé‚£å°±è‚¯å®šæ˜¯å¾€åŽŸåž‹é“¾ä¸Šæ‰¾äº†ï¼Œæ‰€ä»¥äº‹å…ˆæŠŠè¿™ä¸ªå±žæ€§æŒ‚è½½åˆ°Object.prototypeä¸Š 1234567891011// 1ã€function tool(obj)&#123; this._obj = obj;&#125;// 2ã€Object.defineProperty(Object.prototype,'tool',&#123; get: function()&#123; return new tool(this); &#125;&#125;); 1ã€å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå°†è°ƒç”¨å¯¹è±¡çš„thiså½“åštoolå‡½æ•°çš„å†…éƒ¨å¯¹è±¡ä¼ å…¥ 2ã€åœ¨Object.prototypeä¸Šå®šä¹‰ä¸€ä¸ªåä¸ºä¸ºtoolçš„å±žæ€§ï¼Œè®¾ç½®è¿™ä¸ªå±žæ€§çš„getè®¿é—®æ‹¦æˆªè¿”å›žé€šè¿‡æž„é€ å‡½æ•°å®žä¾‹åŒ–çš„tool çœ‹çœ‹æ•ˆæžœ123456789const tool = require('./lib/defind');const user = &#123; a: 1, b: 'test'&#125;;console.log(user.tool); // 3ã€ 3ã€æ‰“å°äº† tool { _obj: { a: 1, b: &#39;test&#39; } } å°±æ˜¯è¿™ä¹ˆç®€å•å®žçŽ°äº†è¿™ç§é…·ç‚«çš„å†™æ³•ï¼Œæ·»åŠ ä¸€ä¸ªtoolçš„æ–¹æ³•åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦æœ‰è¯¥å±žæ€§123tool.prototype.has = function(key)&#123; return this._obj.hasOwnProperty(key);&#125; 4ã€åˆšæ‰åœ¨toolå‡½æ•°é‡Œä¿å­˜çš„_objçŽ°åœ¨èµ·ä½œç”¨äº† consoleä¸€ä¸‹ 1234let has = user.tool.has('a');console.log(has); // truehas = user.tool.has('c');console.log(has); // false å‰©ä¸‹çš„apiæœ‰å…´è¶£çš„æœ‹å‹è‡ªå·±å®žçŽ°å§~ å‚è€ƒé“¾æŽ¥ï¼š https://github.com/tj/should.js]]></content>
      <categories>
        <category>JavsScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>defineProperty</tag>
        <tag>Object.prototype</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSå¯¹è±¡å±žæ€§æŽ¢ç©¶]]></title>
    <url>%2F2018%2F04%2F01%2FObject20180401%2F</url>
    <content type="text"><![CDATA[å¯¹è±¡ECMAScript å°†å¯¹è±¡çš„å±žæ€§åˆ†ä¸ºæ•°æ®å±žæ€§å’Œè®¿é—®å™¨å±žæ€§,å±žæ€§æè¿°ç¬¦æœ‰ä¸¤ç§ä¸»è¦å½¢å¼ï¼šæ•°æ®æè¿°ç¬¦å’Œå­˜å–æè¿°ç¬¦,ä½¿ç”¨definePropertyå¯ä»¥ä¸ºå¯¹è±¡å·²æœ‰çš„å±žæ€§æ·»åŠ ç‰¹æ€§æè¿°ï¼š12345678910var obj = &#123; test:&quot;hello&quot;&#125;//å¯¹è±¡å·²æœ‰çš„å±žæ€§æ·»åŠ ç‰¹æ€§æè¿°Object.defineProperty(obj,&quot;test&quot;,&#123; configurable:true | false, // æ˜¯å¦å¯ä»¥åˆ é™¤ç›®æ ‡å±žæ€§æˆ–æ˜¯å¦å¯ä»¥å†æ¬¡ä¿®æ”¹å±žæ€§çš„ç‰¹æ€§ï¼ˆwritable, configurable, enumerableï¼‰ enumerable:true | false, // æ˜¯å¦å¯æžšä¸¾ value:ä»»æ„ç±»åž‹çš„å€¼, writable:true | false // å±žæ€§çš„å€¼æ˜¯å¦å¯ä»¥è¢«é‡å†™&#125;); ES5æœ‰ä¸‰ä¸ªæ“ä½œä¼šå¿½ç•¥enumerableä¸ºfalseçš„å±žæ€§ï¼š forâ€¦inå¾ªçŽ¯ï¼šåªéåŽ†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æžšä¸¾çš„å±žæ€§ Object.keys()ï¼šè¿”å›žå¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æžšä¸¾çš„å±žæ€§çš„é”®å JSON.stringify()ï¼šåªä¸²è¡ŒåŒ–å¯¹è±¡è‡ªèº«çš„å¯æžšä¸¾çš„å±žæ€§ Object.getOwnPropertyNamesèŽ·å–è¯¥å¯¹è±¡ä¸åŒ…æ‹¬åŽŸåž‹é“¾æ‰€æœ‰çš„å±žæ€§åŒ…æ‹¬ä¸å¯æžšä¸¾çš„ES6æ–°å¢žäº†ä¸€ä¸ªæ“ä½œObject.assign()ï¼Œä¼šå¿½ç•¥enumerableä¸ºfalseçš„å±žæ€§ï¼Œåªæ‹·è´å¯¹è±¡è‡ªèº«çš„å¯æžšä¸¾çš„å±žæ€§ã€‚123456789Object.getOwnPropertyDescriptor(Object.prototype, &apos;toString&apos;).enumerable// falseObject.prototype.propertyIsEnumerable(&apos;toString&apos;) // falseObject.getOwnPropertyDescriptor([], &apos;length&apos;).enumerable// false[].propertyIsEnumerable(&apos;length&apos;) // false toStringå’Œlengthå±žæ€§çš„enumerableéƒ½æ˜¯falseï¼Œå› æ­¤forâ€¦inä¸ä¼šéåŽ†åˆ°è¿™ä¸¤ä¸ªç»§æ‰¿è‡ªåŽŸåž‹çš„å±žæ€§ã€‚ å½“ä½¿ç”¨äº†getteræˆ–setteræ–¹æ³•ï¼Œä¸å…è®¸ä½¿ç”¨writableå’Œvalueè¿™ä¸¤ä¸ªå±žæ€§ã€‚ ES5 çŽ¯å¢ƒï¼ŒObject.keyså¦‚æžœä¼ å…¥çš„å‚æ•°ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå®ƒä¼šæŠ¥ TypeErrorã€‚åœ¨ ES6 çŽ¯å¢ƒï¼Œå¦‚æžœä¼ å…¥çš„æ˜¯ä¸€ä¸ªéžå¯¹è±¡å‚æ•°ï¼Œå†…éƒ¨ä¼šå¯¹å‚æ•°ä½œä¸€æ¬¡å¼ºåˆ¶å¯¹è±¡è½¬æ¢ï¼Œå¦‚æžœè½¬æ¢ä¸æˆåŠŸä¼šæŠ›å‡º TypeErrorã€‚12345// åœ¨ ES5 çŽ¯å¢ƒObject.keys(&apos;foo&apos;); // TypeError: &quot;foo&quot; is not an object// åœ¨ ES6 çŽ¯å¢ƒObject.keys(&apos;foo&apos;); // [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;] å‚è€ƒé“¾æŽ¥ï¼š https://www.zhihu.com/question/40648241?from=profile_question_card https://www.cnblogs.com/wujie520303/p/4931384.html https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain]]></content>
      <categories>
        <category>JavsScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Object</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å˜é‡å£°æ˜Žä¹‹æ—…]]></title>
    <url>%2F2017%2F12%2F01%2Ftest%2F</url>
    <content type="text"><![CDATA[varã€letã€const å®šä¹‰å˜é‡var å®šä¹‰çš„å˜é‡å…è®¸å˜é‡æå‡ï¼ˆHoistingï¼‰ï¼Œè¿˜æ¶‰åŠåˆ° å˜é‡è¿›è¡Œ LHSï¼ˆLeft Hand Sideï¼‰æŸ¥æ‰¾123ä¸¾ä¸ªæ —å­ï¼šconsole.log(x); // var is upvar x = 'var is up'; ä½†æ˜¯å¾—æ³¨æ„ä¸€ä¸‹ï¼Œvarå£°æ˜Žçš„å˜é‡å¯ä»¥æå‡ï¼Œä½†æ˜¯å¦‚æžœæ˜¯ä¸€ä¸ªå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°è¡¨è¾¾å¼æ˜¯ä¸å¯ä»¥æå‡çš„ï¼Œå¦‚ä¸‹:12345678910var x = func();var func = function()&#123; return 'this is function';&#125;// ç›¸å½“äºŽä¸‹é¢çš„ä»£ç ï¼švar func;var x = func();func = function()&#123; return 'this is function';&#125; ä¸Šé¢é‚£æ®µä»£ç ä¼šè¢«çˆ†å‡ºTypeError,å˜é‡funcè¢«æå‡äº†ï¼Œä½†æ˜¯åŽé¢çš„å‡½æ•°è¡¨è¾¾å¼æ²¡è¢«æå‡ï¼Œæå‡çš„funcçš„åˆå§‹åŒ–æ˜¯var func = undefined,ä¸Šé¢çš„æ“ä½œç›¸å½“äºŽundefined(),æ‰€ä»¥å°±çˆ†TypeErroräº†; å‡½æ•°å£°æ˜Žå’Œå‡½æ•°è¡¨è¾¾å¼å£°æ˜Žå‡½æ•°å£°æ˜Žä¼šæ•´ä½“æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶ç«¯ï¼Œè€Œå‡½æ•°è¡¨è¾¾å¼å£°æ˜Žåªæå‡å˜é‡åï¼Œè¡¨è¾¾å¼å¹¶ä¸ä¼šæå‡ï¼ˆæ —å­çœ‹ä¸Šé¢ðŸ‘†ä»£ç ï¼‰ï¼Œä¸¾ä¸ªðŸŒ° ï¼š123456789101112test() // 1test2() // TypeError// å‡½æ•°å£°æ˜Žfunction test()&#123; console.log(1);&#125;// å‡½æ•°è¡¨è¾¾å¼å£°æ˜Žvar test2 = function()&#123; console.log(2);&#125; ä½œç”¨åŸŸvar å¹¶ä¸æ˜¯å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥å®¹æ˜“é€ æˆä½œç”¨åŸŸæ±¡æŸ“ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸‹ç”¨varå®šä¹‰ä¸€ä¸ªå˜é‡ä¼šè¢«æŒ‚è½½åˆ°globalæˆ–windowä¸­,çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š1234function test()&#123; for(var i = 0; i &lt; 3; i++)&#123;&#125; console.log(i); // 3&#125; ä¸Šé¢é‚£æ®µä»£ç ï¼Œåœ¨}å¤–ä¾æ—§èƒ½è®¿é—®åˆ° i ã€‚let æ˜¯å—çº§ä½œç”¨åŸŸï¼Œè€Œä¸”åœ¨å…¨å±€ä½œç”¨åŸŸå®šä¹‰çš„å˜é‡å¹¶ä¸ä¼šè¢«æŒ‚è½½åˆ°globalè´§windowä¸­ï¼š1234function test()&#123; for(let i = 0; i &lt; 3; i++)&#123;&#125; console.log(i); // i is defined&#125; const æ˜¯å®šä¹‰å¸¸é‡ï¼Œå’Œjavaçš„finalå…³é”®å­—ç±»ä¼¼ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹åŒºåˆ«çš„æ˜¯ï¼Œconstå®šä¹‰çš„å¦‚æžœçš„å¯¹è±¡ï¼Œåˆ™å¯¹è±¡é‡Œé¢çš„å‚æ•°å€¼æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œconstçš„ä½œç”¨æ˜¯ä¿è¯åˆå§‹å®šä¹‰çš„å˜é‡çš„å†…å­˜åœ°å€æ˜¯ä¸å˜çš„ã€‚123456const a = 1;a = 2; // Assignment to constant variableconst obj = &#123;&#125;;obj.a = 1;console.log(obj.a); // 1 PS: èƒ½ç”¨constå®šä¹‰çš„å°±ç”¨const]]></content>
      <categories>
        <category>JavsScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>let</tag>
        <tag>const</tag>
        <tag>var</tag>
      </tags>
  </entry>
</search>
